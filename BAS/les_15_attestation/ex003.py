import random

# Генерация одномерного массива из 30 случайных чисел от 1 до 100
random_array = [random.randint(1, 100) for _ in range(30)]

# Вывод сгенерированного массива
print(f'Заполненный случайными числами массив: \n{random_array}')

# Проходим по массиву и заменяем чётные числа на ближайшие нечётные
for index, num in enumerate(random_array):
    if num % 2 == 0:  # Если текущее число чётное
        to_begin = index  # Индекс для поиска ближайшего нечётного числа слева
        to_end = index    # Индекс для поиска ближайшего нечётного числа справа
        found = False     # Флаг для остановки поиска после нахождения нечётного числа

        # Поиск ближайшего нечётного числа
        while not found:
            # Проверяем слева: если индекс в пределах массива и число нечётное
            if to_begin >= 0 and random_array[to_begin] % 2 != 0:
                random_array[index] = random_array[to_begin]  # Замена текущего чётного числа на найденное нечётное
                found = True  # Завершаем поиск
            # Проверяем справа: если индекс в пределах массива и число нечётное
            elif to_end < len(random_array) and random_array[to_end] % 2 != 0:
                random_array[index] = random_array[to_end]  # Замена текущего чётного числа на найденное нечётное
                found = True  # Завершаем поиск
            else:
                # Смещаем индексы для продолжения поиска
                to_begin -= 1  # Ищем левее
                to_end += 1    # Ищем правее

            # Если вышли за границы массива, завершаем цикл, чтобы избежать ошибок
            if to_begin < 0 and to_end >= len(random_array):
                break

# Вывод массива с заменёнными чётными числами
print(f'Массив с числами, заменёнными на ближайшее нечётное (приоритет числу слева): \n{random_array}')
